<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Натяжные потолки в Моргаушах</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<header>
    <div class="logo">Натяжные потолки в Моргаушах</div>

    <div class="burger" id="burger">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <nav class="nav" id="nav">
        <a href="#glavnoe">Главное</a>
        <a href="#uslugi">Услуги</a>            
        <a href="#about">О нас</a>
        <a href="#portfolio">Портфолио</a>
        <a href="#zayavka">Заявка</a>
        <a href="#footer">Контакты</a>
    </nav>
</header>

    <section id="glavnoe" class="hero">
        <div class="hero-content">
            <h1>Профессиональные натяжные потолки в Моргаушах</h1>
            <p class="hero-subtitle">Безупречное качество, гарантия - 6 месяцев, установка за 1 день</p>
            <div class="hero-features">
                <div class="feature">
                    <i class="fas fa-ruler-combined"></i>
                    <span>Бесплатный замер</span>
                </div>
                <div class="feature">
                    <i class="fas fa-calendar-check"></i>
                    <span>Монтаж за 1 день</span>
                </div>
                <div class="feature">
                    <i class="fas fa-shield-alt"></i>
                    <span>Гарантия 6 месяцев</span>
                </div>
            </div>
            <a href="#zayavka" class="btn">Бесплатный вызов замерщика</a>
        </div>
    </section>

    <!-- Секция "Почему выбирают нас" -->
    <section class="why-us">
        <div class="container">
            <h2>Почему выбирают нас</h2>
            <div class="why-grid">
                <div class="why-card">
                    <div class="why-icon">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <h3>Опытные мастера</h3>
                    <p>Бригады с опытом работы от 5 лет. Каждый специалист хорошо обучен</p>
                </div>
                <div class="why-card">
                    <div class="why-icon">
                        <i class="fas fa-medal"></i>
                    </div>
                    <h3>Премиум материалы</h3>
                    <p>Работаем только с проверенными производителями</p>
                </div>
                <div class="why-card">
                    <div class="why-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h3>Соблюдение сроков</h3>
                    <p>Четкое планирование работ. Устанавливаем потолки точно в оговоренный день</p>
                </div>
                <div class="why-card">
                    <div class="why-icon">
                        <i class="fas fa-tools"></i>
                    </div>
                    <h3>Чистый монтаж</h3>
                    <p>После установки убираем помещение, вывозим мусор. Никакой грязи и пыли</p>
                </div>
            </div>
        </div>
    </section>

    <section id="uslugi">
        <h2>Наши услуги</h2>
        <p class="section-subtitle">Качественные решения для вашего потолка</p>
        
        <div class="uslugi-container">
            <!-- Карточка 1: Натяжные потолки -->
            <div class="usluga-card" data-gallery="ceilings">
                <div class="card-images-grid">
                    <img src="images/ceilings1.jpg" alt="Натяжные потолки пример 1">
                    <img src="images/ceilings2.png" alt="Натяжные потолки пример 2">
                    <img src="images/ceilings3.jfif" alt="Натяжные потолки пример 3">
                </div>
                <h3>Натяжные потолки</h3>
                <p class="service-description">Установка качественных натяжных потолков любых типов и форм. Гарантия 6 месяцев.</p>
            </div>

            <!-- Карточка 2: Монтаж освещения -->
            <div class="usluga-card" data-gallery="lighting">
                <div class="card-images-grid">
                    <img src="images/light1.jfif" alt="Освещение пример 1">
                    <img src="images/light2.png" alt="Освещение пример 2">
                    <img src="images/light3.jpg" alt="Освещение пример 3">
                </div>
                <h3>Монтаж освещения</h3>
                <p class="service-description">Профессиональный монтаж светильников и подсветки под ваш интерьер.</p>
            </div>

            <!-- Карточка 3: Декоративные конструкции -->
            <div class="usluga-card" data-gallery="decor">
                <div class="card-images-grid">
                    <img src="images/decor1.jpg" alt="Декоративные конструкции пример 1">
                    <img src="images/decor2.png" alt="Декоративные конструкции пример 2">
                    <img src="images/decor3.png" alt="Декоративные конструкции пример 3">
                </div>
                <h3>Декоративные конструкции</h3>
                <p class="service-description">Создание стильных конструкций и ниш с LED-подсветкой.</p>
            </div>
        </div>
    </section>

    <section id="about" class="about-section">
        <div class="container">
            <h2>О нас</h2>
            <div class="about-content">
                <div class="about-text">
                    <p>Мы специализируемся на установке натяжных потолков в Моргаушах и близлежащих районах уже более 10 лет. За это время мы выполнили более 50 успешных проектов.</p>
                    
                    <div class="stats">
                        <div class="stat">
                            <div class="stat-number">10+</div>
                            <div class="stat-text">Лет на рынке</div>
                        </div>
                        <div class="stat">
                            <div class="stat-number">50+</div>
                            <div class="stat-text">Выполненных проектов</div>
                        </div>
                        <div class="stat">
                            <div class="stat-number">98%</div>
                            <div class="stat-text">Довольных клиентов</div>
                        </div>
                    </div>
                    
                    <div class="team">
                        <h3>Наша команда</h3>
                        <p>У нас работают отличные специалисты, которые регулярно повышают квалификацию. Мы ценим профессионализм, ответственность и внимание к деталям.</p>
                    </div>
                </div>
                <div class="about-image">
                    <img src="images/team.jfif" alt="Наша команда">
                </div>
            </div>
        </div>
    </section>

    <!-- Универсальный Popup -->
    <div id="unifiedPopup" class="popup" aria-hidden="true" role="dialog">
        <div class="popup-inner">
            <button class="close" aria-label="Закрыть">&times;</button>
            <button class="arrow left" aria-label="Предыдущее">&#10094;</button>
            <div class="popup-content">
                <img id="unifiedImage" src="" alt="Фото">
            </div>
            <button class="arrow right" aria-label="Следующее">&#10095;</button>
        </div>
    </div>

    <section id="portfolio">
    <h2>Наши работы</h2>
    <p class="section-subtitle">Примеры наших работ в Моргаушах и в близлежащих районах</p>
    <div class="gallery">
        <!-- 30 фотографий портфолио (простая сетка) -->
        <img src="images/potolok1.jpg" alt="Натяжной потолок глянцевый" loading="lazy">
        <img src="images/potolok2.jpg" alt="Матовый потолок в гостиной" loading="lazy">
        <img src="images/potolok3.jpg" alt="Многоуровневый потолок" loading="lazy">
        <img src="images/potolok4.jpg" alt="Потолок с точечными светильниками" loading="lazy">
        <img src="images/potolok5.jpg" alt="Сатиновый потолок" loading="lazy">
        <img src="images/potolok6.jpg" alt="Потолок в ванной комнате" loading="lazy">
        <img src="images/potolok7.jpg" alt="Двухуровневый потолок с подсветкой" loading="lazy">
        <img src="images/potolok8.jpg" alt="Черный глянцевый потолок" loading="lazy">
        <img src="images/potolok9.jpg" alt="Парящий потолок" loading="lazy">
        <img src="images/potolok10.jpg" alt="Потолок в детской комнате" loading="lazy">
        <img src="images/potolok11.jpg" alt="Потолок на кухне" loading="lazy">
        <img src="images/potolok12.jpg" alt="Потолок в спальне" loading="lazy">
        <img src="images/potolok13.jpg" alt="Потолок с фотопечатью" loading="lazy">
        <img src="images/potolok14.jpg" alt="Звездное небо на потолке" loading="lazy">
        <img src="images/potolok15.jpg" alt="Потолок в прихожей" loading="lazy">
        <img src="images/potolok16.jpg" alt="Арочный потолок" loading="lazy">
        <img src="images/potolok17.jpg" alt="Потолок в офисе" loading="lazy">
        <img src="images/potolok18.jpg" alt="Потолок с LED-подсветкой" loading="lazy">
        <img src="images/potolok19.jpg" alt="Белый матовый потолок" loading="lazy">
        <img src="images/potolok20.jfif" alt="Потолок в кафе" loading="lazy">
        <img src="images/potolok21.png" alt="Потолок с нишами" loading="lazy">
        <img src="images/potolok22.jfif" alt="Цветной потолок" loading="lazy">
        <img src="images/potolok23.png" alt="Потолок в магазине" loading="lazy">
        <img src="images/potolok24.png" alt="Потолок с узорами" loading="lazy">
        <img src="images/potolok25.png" alt="Потолок в ресторане" loading="lazy">
        <img src="images/potolok26.png" alt="Потолок в бассейне" loading="lazy">
        <img src="images/potolok27.png" alt="Потолок с 3D эффектом" loading="lazy">
        <img src="images/potolok28.png" alt="Потолок в спортзале" loading="lazy">
        <img src="images/potolok29.jfif" alt="Потолок в сауне" loading="lazy">
        <img src="images/potolok30.jfif" alt="Потолок в коридоре" loading="lazy">
    </div>
</section>
    
    <section id="zayavka" class="zayavka-section">
        <div class="container">
            <div class="zayavka-wrapper">
                <div class="zayavka-content">
                    <h2>Рассчитайте стоимость потолка</h2>
                    <p class="zayavka-subtitle">Оставьте заявку и получите:</p>
                    <ul class="zayavka-benefits">
                        <li><i class="fas fa-check"></i> Бесплатный выезд замерщика</li>
                        <li><i class="fas fa-check"></i> Точный расчет стоимости</li>
                        <li><i class="fas fa-check"></i> Консультация специалиста</li>
                        <li><i class="fas fa-check"></i> Подбор оптимального решения</li>
                    </ul>
                </div>
                
                <form id="contact-form" 
                      action="https://formspree.io/f/xrbyjapv" 
                      method="POST"
                      class="zayavka-form">

                    <h3>Оставить заявку</h3>
                    
                    <div class="form-group">
                        <input type="text" name="name" placeholder="Ваше имя" required>
                    </div>
                    
                    <div class="form-group">
                        <input type="tel" name="phone" placeholder="Ваш телефон" required>
                    </div>
                    
                    <div class="form-group">
                        <textarea name="message" placeholder="Комментарий (размер помещения, пожелания)" rows="3"></textarea>
                    </div>

                    <button type="submit" class="submit-btn">
                        <i class="fas fa-paper-plane"></i> Отправить заявку
                    </button>
                    
                    <p class="form-note">Мы перезвоним вам в течение 30 минут</p>
                </form>
            </div>
        </div>
    </section>

    <!-- Футер с контактами -->
    <footer id="footer">
        <div class="footer-content">
            <div class="footer-section footer-logo">
                <h3><i class="fas fa-home"></i> Натяжные потолки в Моргаушах</h3>
                <p>Профессиональный монтаж натяжных потолков любой сложности с гарантией качества</p>
                <div class="footer-features">
                    <span><i class="fas fa-check-circle"></i> Гарантия 6 месяцев</span>
                    <span><i class="fas fa-check-circle"></i> Опыт работы более 10 лет</span>
                </div>
            </div>
            
            <div class="footer-section footer-contacts">
                <h3><i class="fas fa-address-book"></i> Контакты</h3>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <div>
                        <h4>Телефон</h4>
                        <a href="tel:+79370165656" class="contact-link">+7 (937) 016-56-56</a>
                        <p class="contact-note">Звоните с 8:00 до 20:00</p>
                    </div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <div>
                        <h4>Email</h4>
                        <a href="mailto:potolki-morgaushi@mail.ru" class="contact-link">potolki-morgaushi@mail.ru</a>
                    </div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <div>
                        <h4>Адрес</h4>
                        <p>Моргауши, Чувашская Республика</p>
                        <p class="contact-note">Работаем по всему району</p>
                    </div>
                </div>
            </div>
            
            <div class="footer-section footer-nav">
                <h3><i class="fas fa-link"></i> Быстрые ссылки</h3>
                <a href="#glavnoe"><i class="fas fa-chevron-right"></i> Главная</a>
                <a href="#uslugi"><i class="fas fa-chevron-right"></i> Услуги</a>
                <a href="#about"><i class="fas fa-chevron-right"></i> О нас</a>
                <a href="#portfolio"><i class="fas fa-chevron-right"></i> Портфолио</a>
                <a href="#zayavka"><i class="fas fa-chevron-right"></i> Заявка</a>
            </div>
            
            <div class="footer-section footer-social">
                <h3><i class="fas fa-share-alt"></i> Мы в соцсетях</h3>
                <p>Наши контакты</p>
                <div class="social-links">
                    <a href="https://t.me/+79370165656" target="_blank" class="social-link telegram">
                        <i class="fab fa-telegram"></i> Telegram
                    </a>
                    <a href="https://wa.me/79370165656" target="_blank" class="social-link whatsapp">
                        <i class="fab fa-whatsapp"></i> WhatsApp
                    </a>
                    <a href="tel:+79370165656" class="social-link phone">
                        <i class="fas fa-phone"></i> Позвонить
                    </a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p class="copyright">© 2025 Натяжные потолки в Моргаушах. Все права защищены.</p>
            <p class="developer">Сайт создан для вашего удобства</p>
        </div>
    </footer>

    <!-- JavaScript код -->
    <script>
    /* ======================
       СКРИПТ: поведение страницы
       ====================== */

    // Плавная прокрутка по якорям
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                // Закрываем меню на мобильных
                if (window.innerWidth <= 768 && nav.classList.contains('active')) {
                    nav.classList.remove('active');
                    burger.classList.remove('active');
                }
                
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Анимация появления секций
    const sections = document.querySelectorAll("section");
    if ('IntersectionObserver' in window) {
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add("fade-in");
                }
            });
        }, { threshold: 0.2 });
        sections.forEach(section => observer.observe(section));
    }

    // Бургер-меню
    const burger = document.getElementById('burger');
    const nav = document.getElementById('nav');
    const navLinks = document.querySelectorAll('.nav a');
    const navSocialIcons = document.querySelectorAll('.nav-social-icon');
    
    if (burger) {
        burger.addEventListener('click', () => {
            burger.classList.toggle('active');
            nav.classList.toggle('active');
        });
    }
    
    // Закрытие меню при клике на ссылку
    navLinks.forEach(link => {
        link.addEventListener('click', () => {
            if (nav.classList.contains('active')) {
                nav.classList.remove('active');
                burger.classList.remove('active');
            }
        });
    });
    
    // Закрытие меню при клике на соцсети
    navSocialIcons.forEach(icon => {
        icon.addEventListener('click', () => {
            if (nav.classList.contains('active')) {
                nav.classList.remove('active');
                burger.classList.remove('active');
            }
        });
    });

    // Данные галерей для услуг (по 3 фото на каждую услугу)
    const galleries = {
        ceilings: [
            'images/ceilings1.jpg',
            'images/ceilings2.png',
            'images/ceilings3.jfif'
        ],
        lighting: [
            'images/light1.jfif',
            'images/light2.png',
            'images/light3.jpg'
        ],
        decor: [
            'images/decor1.jpg',
            'images/decor2.png',
            'images/decor3.png'
        ]
    };

    // Унифицированная попап-галерея
    (function() {
        const popup = document.getElementById('unifiedPopup');
        const popupInner = popup.querySelector('.popup-inner');
        const popupImg = document.getElementById('unifiedImage');
        const closeBtn = popup.querySelector('.close');
        const leftArrow = popup.querySelector('.arrow.left');
        const rightArrow = popup.querySelector('.arrow.right');

        let currentGallery = [];
        let currentIndex = 0;

        function openWithGallery(arr, startIndex = 0) {
            if (!Array.isArray(arr) || !arr.length) return;
            currentGallery = arr.slice();
            currentIndex = startIndex;
            showCurrent();
            popup.classList.add('active');
            popup.setAttribute('aria-hidden', 'false');
            popupInner.setAttribute('tabindex', '-1');
            popupInner.focus();
        }

        function showCurrent() {
            if (!currentGallery.length) return;
            popupImg.classList.remove('show');
            setTimeout(() => {
                popupImg.src = currentGallery[currentIndex];
                popupImg.classList.add('show');
            }, 80);
        }

        function closePopup() {
            popup.classList.remove('active');
            popup.setAttribute('aria-hidden', 'true');
            currentGallery = [];
            currentIndex = 0;
        }

        // Стрелки
        rightArrow.addEventListener('click', (e) => {
            e.stopPropagation();
            if (!currentGallery.length) return;
            currentIndex = (currentIndex + 1) % currentGallery.length;
            showCurrent();
        });
        leftArrow.addEventListener('click', (e) => {
            e.stopPropagation();
            if (!currentGallery.length) return;
            currentIndex = (currentIndex - 1 + currentGallery.length) % currentGallery.length;
            showCurrent();
        });

        // close
        closeBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            closePopup();
        });

        // клик по фону
        popup.addEventListener('click', (e) => {
            if (e.target === popup) closePopup();
        });

        // клавиши
        document.addEventListener('keydown', (e) => {
            if (!popup.classList.contains('active')) return;
            if (e.key === 'Escape') closePopup();
            else if (e.key === 'ArrowRight') rightArrow.click();
            else if (e.key === 'ArrowLeft') leftArrow.click();
        });

        // Привязки: картинки портфолио
        const portfolioImgs = document.querySelectorAll('#portfolio .gallery img');
        if (portfolioImgs.length) {
            const portfolioArr = Array.from(portfolioImgs).map(img => img.src);
            portfolioImgs.forEach((img, i) => {
                img.style.cursor = 'pointer';
                img.addEventListener('click', () => openWithGallery(portfolioArr, i));
            });
        }

        // Привязки: карточки услуг
        const serviceCards = document.querySelectorAll('.usluga-card');
        serviceCards.forEach(card => {
            const galleryKey = card.dataset.gallery;
            
            card.addEventListener('click', function(e) {
                // Проверяем, не кликнули ли по тексту или заголовку
                if (e.target.tagName === 'H3' || e.target.tagName === 'P' || 
                    e.target.classList.contains('service-description')) {
                    return;
                }
                
                if (galleryKey && galleries[galleryKey]) {
                    openWithGallery(galleries[galleryKey], 0);
                }
            });
            
            // Делаем все изображения внутри карточки кликабельными
            const cardImages = card.querySelectorAll('.card-images-grid img');
            cardImages.forEach(img => {
                img.style.cursor = 'pointer';
                img.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const galleryKey = card.dataset.gallery;
                    if (galleryKey && galleries[galleryKey]) {
                        const imgSrc = this.src;
                        const gallery = galleries[galleryKey];
                        const index = gallery.findIndex(url => imgSrc.includes(url.split('/').pop()));
                        openWithGallery(gallery, Math.max(index, 0));
                    }
                });
            });
        });
    })();

    // Обработка формы
    document.addEventListener("DOMContentLoaded", function() {
        const form = document.getElementById("contact-form");
        if (!form) return;
        
        form.addEventListener("submit", async function(e) {
            e.preventDefault();

            const data = {
                name: form.name.value,
                _replyto: form.querySelector('[name="_replyto"]')?.value || '',
                phone: form.phone.value,
                message: form.message.value
            };

            const originalButtonText = form.querySelector("button").innerHTML;
            form.querySelector("button").innerHTML = '<i class="fas fa-spinner fa-spin"></i> Отправка...';
            form.querySelector("button").disabled = true;

            try {
                const response = await fetch(form.action, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(data)
                });

                // Создаем сообщение, если его нет
                let messageDiv = document.getElementById('form-message');
                if (!messageDiv) {
                    messageDiv = document.createElement('div');
                    messageDiv.id = 'form-message';
                    form.parentNode.insertBefore(messageDiv, form.nextSibling);
                }

                if (response.ok) {
                    form.reset();
                    messageDiv.innerHTML = '<p class="success-message">✅ Заявка успешно отправлена! Мы свяжемся с вами в течение 30 минут.</p>';
                    setTimeout(() => {
                        messageDiv.innerHTML = '';
                    }, 5000);
                } else {
                    messageDiv.innerHTML = '<p class="error-message">❌ Ошибка при отправке. Попробуйте позже.</p>';
                }
            } catch (error) {
                let messageDiv = document.getElementById('form-message');
                if (!messageDiv) {
                    messageDiv = document.createElement('div');
                    messageDiv.id = 'form-message';
                    form.parentNode.insertBefore(messageDiv, form.nextSibling);
                }
                messageDiv.innerHTML = '<p class="error-message">⚠️ Ошибка сети. Проверьте подключение к интернету.</p>';
            } finally {
                form.querySelector("button").innerHTML = originalButtonText;
                form.querySelector("button").disabled = false;
            }
        });
    });
    
    // Обновленный код для портфолио в JS
document.addEventListener('DOMContentLoaded', function() {
    // Привязки: картинки портфолио
    const portfolioItems = document.querySelectorAll('#portfolio .gallery-item');
    if (portfolioItems.length) {
        const portfolioArr = Array.from(portfolioItems).map(item => 
            item.querySelector('img').src
        );
        
        portfolioItems.forEach((item, i) => {
            item.addEventListener('click', () => openWithGallery(portfolioArr, i));
        });
    }
    
    // Ленивая загрузка изображений
    const images = document.querySelectorAll('img[loading="lazy"]');
    if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.classList.add('loaded');
                    observer.unobserve(img);
                }
            });
        });
        
        images.forEach(img => imageObserver.observe(img));
    }
});
    </script>
</body>
</html>